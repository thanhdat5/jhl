var G5Plus = G5Plus || {}; !function (a) { "use strict"; var b = a(window), c = a("body"), d = !!c.data("rtl"), e = navigator.userAgent.toLowerCase(), g = (e.match(/(iphone|ipod|android|iemobile)/), e.match(/(iphone|ipod|ipad|android|iemobile)/)); e.match(/(iphone|ipod|ipad)/), e.match(/(iemobile)/); G5Plus.common = { init: function () { G5Plus.common.owlCarousel(), G5Plus.common.stellar(), G5Plus.common.prettyPhoto(), G5Plus.common.tooltip() }, owlCarousel: function () { a("div.owl-carousel:not(.manual):not(.owl-loaded)").each(function () { var b = a(this), c = { items: 4, nav: !1, navText: ['<i class="fa fa-angle-left"></i>', '<i class="fa fa-angle-right"></i>'], dots: !1, loop: !0, center: !1, mouseDrag: !0, touchDrag: !0, pullDrag: !0, freeDrag: !1, margin: 0, stagePadding: 0, merge: !1, mergeFit: !0, autoWidth: !1, startPosition: 0, rtl: d, autoplay: !1, smartSpeed: 250, fluidSpeed: !1, dragEndSpeed: !1, autoplayHoverPause: !0 }, e = a.extend({}, c, b.data("plugin-options")); b.owlCarousel(e), b.on("initialized.owl.carousel", function (a) { G5Plus.common.owlCarousel() }) }) }, isDesktop: function () { var b = 991, c = a(".x-nav-menu"); return c.length > 0 && void 0 !== c.attr("responsive-breakpoint") && !isNaN(parseInt(c.attr("responsive-breakpoint"), 10)) && (b = parseInt(c.attr("responsive-breakpoint"), 10)), window.matchMedia("(min-width: " + (b + 1) + "px)").matches }, stellar: function () { a.stellar({ horizontalScrolling: !1, scrollProperty: "scroll", positionProperty: "position", responsive: !1 }) }, prettyPhoto: function () { a("a[data-rel^='prettyPhoto']").prettyPhoto({ hook: "data-rel", social_tools: "", animation_speed: "normal", theme: "light_square" }) }, showLoading: function () { c.addClass("overflow-hidden"), 0 == a(".loading-wrapper").length && c.append('<div class="loading-wrapper"><span class="spinner-double-section-far"></span></div>') }, hideLoading: function () { a(".loading-wrapper").fadeOut(function () { a(".loading-wrapper").remove(), a("body").removeClass("overflow-hidden") }) }, tooltip: function () { a().tooltip && !g && a('[data-toggle="tooltip"]').tooltip() }, isIE: function () { return !(!window.navigator.userAgent.indexOf("MSIE ") && !navigator.userAgent.match(/Trident.*rv\:11\./)) } }, G5Plus.page = { init: function () { G5Plus.page.pageTransition(), G5Plus.page.footerParallax(), G5Plus.page.topDrawer(), G5Plus.page.events(), G5Plus.page.backToTop(), G5Plus.page.setWidgetCollapse(), G5Plus.page.mail_chimp() }, events: function () { }, windowLoad: function () { G5Plus.page.setPositionPageTitle(), G5Plus.page.fadePageIn() }, windowResized: function () { G5Plus.page.footerParallax(), G5Plus.page.setPositionPageTitle(), G5Plus.page.setWidgetCollapse() }, setPositionPageTitle: function () { var b = a("#page-title"); if (G5Plus.common.isDesktop()) if (a("body").hasClass("header-is-float")) { if (null != b && void 0 !== b) { var c = a("header.main-header").outerHeight(); b.css("padding-top", c) } } else b.css("padding-top", ""); else if (a("#mobile-header-wrapper").hasClass("mobile-header-float")) { var c = a("#mobile-header-wrapper").outerHeight(); b.css("padding-top", c) } else b.css("padding-top", "") }, footerParallax: function () { var d = a("footer.main-footer-wrapper"), e = a("header.main-header .sticky-wrapper").length > 0 ? 60 : 0, f = a("#wpadminbar"), g = f.length > 0 ? f.outerHeight() : 0; c.hasClass("page-template-coming-soon") ? c.removeClass("footer-static") : d.hasClass("enable-parallax") && (G5Plus.common.isDesktop() && b.height() >= d.outerHeight() + e + g ? (c.css({ "padding-bottom": d.outerHeight() + "px" }), c.removeClass("footer-static")) : (c.addClass("footer-static"), c.css({ "padding-bottom": "0px" }))) }, topDrawer: function () { a(".top-drawer-toggle").click(function () { a("#top-drawer-bar").slideToggle("slow"), a(this).toggleClass("open") }) }, backToTop: function () { var c = a(".back-to-top"); c.length > 0 && (c.click(function (b) { b.preventDefault(), a("html,body").animate({ scrollTop: "0px" }, 800) }), b.on("scroll", function (a) { b.scrollTop() > b.height() / 2 ? c.addClass("in") : c.removeClass("in") })) }, setWidgetCollapse: function () { b.width(); window.matchMedia("(max-width: 767px)").matches ? a("footer.footer-collapse-able aside.widget").each(function () { var b = a("h4:first", this), c = a(b).next(); a(b).addClass("collapse"), null != c && "undefined" != c && a(c).hide(), a(b).off(), a(b).click(function () { var c = a(this).next(); a(this).hasClass("expanded") ? (a(this).removeClass("expanded"), a(b).addClass("collapse"), a(c).slideUp()) : (a(this).addClass("expanded"), a(b).removeClass("collapse"), a(c).slideDown()) }) }) : a("footer aside.widget").each(function () { var b = a("h4:first", this); a(b).off(); var c = a(b).next(); a(b).removeClass("collapse"), a(b).removeClass("expanded"), a(c).show() }) }, pageTransition: function () { if (c.hasClass("page-transitions")) { a('.animsition-link, a[href]:not([target="_blank"]):not([href^="#"]):not([href*="javascript"]):not([href*=".jpg"]):not([href*=".jpeg"]):not([href*=".gif"]):not([href*=".png"]):not([href*=".mov"]):not([href*=".swf"]):not([href*=".mp4"]):not([href*=".flv"]):not([href*=".avi"]):not([href*=".mp3"]):not([href^="mailto:"]):not([class*="no-animation"]):not([class*="prettyPhoto"]):not([class*="add_to_wishlist"]):not([class*="add_to_cart_button"]):not([data-rel="prettyPhoto"])').on("click", function (b) { b.preventDefault(); var c = a(this), d = c.attr("href"); 2 === b.which || b.metaKey || b.shiftKey || -1 !== navigator.platform.toUpperCase().indexOf("WIN") && b.ctrlKey ? window.open(d, "_blank") : G5Plus.page.fadePageOut(d) }) } }, fadePageIn: function () { if (c.hasClass("page-loading")) { var d = a(".site-loading"); d.css("opacity", "0"), setTimeout(function () { d.css("display", "none") }, 1e3) } }, fadePageOut: function (b) { a(".site-loading").css("display", "block").animate({ opacity: 1, delay: 200 }, 600, "linear"), a("html,body").animate({ scrollTop: "0px" }, 800), setTimeout(function () { window.location = b }, 600) }, pageTitleBackgroundParallax: function () { var c = b.width(); a(".page-title-parallax").css("background-size", c + "px") }, mail_chimp: function () { a('input[type="email"]', ".mail-above").change(function () { a('input[type="email"]', ".mail-footer").val(a('input[type="email"]', ".mail-above").val()) }), a('input[type="email"]', ".mail-footer").change(function () { a('input[type="email"]', ".mail-above").val(a('input[type="email"]', ".mail-footer").val()) }) } }, G5Plus.portfolio = { init: function () { } }, G5Plus.blog = { init: function () { G5Plus.blog.jPlayerSetup(), G5Plus.blog.infiniteScroll(), G5Plus.blog.loadMore(), G5Plus.blog.gridLayout(), setInterval(G5Plus.blog.gridLayout, 300), G5Plus.blog.masonryLayout(), setInterval(G5Plus.blog.masonryLayout, 300), G5Plus.blog.likeComment() }, windowResized: function () { G5Plus.blog.processWidthAudioPlayer() }, jPlayerSetup: function () { a(".jp-jplayer").each(function () { var b = a(this), c = b.data("audio"), d = b.data("title"), e = c.substr(c.lastIndexOf(".") + 1), f = "#" + b.data("player"), g = {}; g[e] = c, g.title = d, b.jPlayer({ ready: function () { b.jPlayer("setMedia", g) }, swfPath: "../plugins/jquery.jPlayer", cssSelectorAncestor: f }) }), G5Plus.blog.processWidthAudioPlayer() }, processWidthAudioPlayer: function () { setTimeout(function () { a(".jp-audio .jp-type-single").each(function () { var b = a(this).outerWidth() - a(".jp-controls", this).outerWidth() - parseInt(a(".jp-controls", this).css("margin-right").replace("px", ""), 10) - 25; a(".jp-progress", this).width(b) }) }, 100) }, infiniteScroll: function () { var b = ".blog-inner"; a(".blog-inner").infinitescroll({ navSelector: "#infinite_scroll_button", nextSelector: "#infinite_scroll_button a", itemSelector: "article", animate: !0, loading: { selector: "#infinite_scroll_loading", img: g5plus_framework_theme_url + "assets/images/ajax-loader.gif", msgText: "Loading...", finishedMsg: "" } }, function (c, d, e) { var f = a(c).css({ opacity: 0 }); f.imagesLoaded(function () { G5Plus.common.owlCarousel(), G5Plus.blog.jPlayerSetup(), G5Plus.common.prettyPhoto(), f.animate({ opacity: 1 }), a(b).hasClass("blog-style-grid") && (a(b).isotope("appended", f), setTimeout(function () { a(b).isotope("layout") }, 400)) }) }) }, loadMore: function () { a(".blog-load-more").on("click", function (b) { b.preventDefault(); var c = a(this).button("loading"), d = a(this).attr("data-href"), e = ".blog-inner"; a.get(d, function (b) { var d = a(".blog-load-more", b).attr("data-href"), g = a("article", b).css({ opacity: 0 }); a(e).append(g), g.imagesLoaded(function () { G5Plus.common.owlCarousel(), G5Plus.blog.jPlayerSetup(), G5Plus.common.prettyPhoto(), g.animate({ opacity: 1 }), (a(e).hasClass("blog-style-masonry") || a(e).hasClass("blog-style-grid")) && (a(e).isotope("appended", g), setTimeout(function () { a(e).isotope("layout") }, 400)) }), void 0 === d ? c.parent().remove() : (c.button("reset"), c.attr("data-href", d)) }) }) }, gridLayout: function () { var b = a(".blog-style-grid"); b.imagesLoaded(function () { b.isotope({ itemSelector: "article", layoutMode: "fitRows", isOriginLeft: !d }), setTimeout(function () { b.isotope("layout") }, 500) }) }, masonryLayout: function () { var b = a(".blog-style-masonry"); b.imagesLoaded(function () { b.isotope({ itemSelector: "article", layoutMode: "masonry", isOriginLeft: !d }), setTimeout(function () { b.isotope("layout") }, 500) }) }, likeComment: function () { a(document).on("click", 'a[data-like-comment="true"]:not(".liked")', function (b) { b.preventDefault(); var c = a(this), d = a(this).data("id"), e = a.cookie("g5plus_comment_liked"); void 0 !== e && e.indexOf("|" + d + "|") >= 0 || a.ajax({ url: g5plus_framework_ajax_url, data: { action: "blog_comment_like", id: d }, success: function (b) { var e = a.cookie("g5plus_comment_liked"); void 0 === e ? e = "|" + d + "|" : e += d + "|", a.cookie("g5plus_comment_liked", e, { path: "/" }), c.addClass("liked"), a("label", c).text(b) } }) }) } }, G5Plus.woocommerce = { init: function () { G5Plus.woocommerce.setCartScrollBar(), G5Plus.woocommerce.addCartQuantity(), G5Plus.woocommerce.addToCart(), G5Plus.woocommerce.updateShippingMethod(), G5Plus.woocommerce.addToWishlist(), G5Plus.woocommerce.productFilter(), G5Plus.woocommerce.productViewSwitch(), G5Plus.woocommerce.lessonExpand() }, windowResized: function () { G5Plus.woocommerce.setCartScrollBar(), G5Plus.woocommerce.setCourseMetaHeight() }, windowLoad: function () { G5Plus.woocommerce.setCartScrollBar(), G5Plus.woocommerce.setCourseMetaHeight() }, setCourseMetaHeight: function () { a(".meta", ".summary-product").each(function () { var b = 0, c = 0; a("> span", this).each(function () { c = a(this).outerHeight(), b < c && (b = c) }), a("> span", this).css("height", b + "px") }), a(".meta", ".summary-product").css("opacity", "1") }, setCartScrollBar: function () { a("ul.cart_list.product_list_widget").perfectScrollbar({ wheelSpeed: .5, suppressScrollX: !0 }) }, addCartQuantity: function () { a(document).off("click", ".quantity .btn-number").on("click", ".quantity .btn-number", function (b) { b.preventDefault(); var c = a(this).data("type"), d = a("input", a(this).parent()), e = parseFloat(d.val()), f = parseFloat(d.attr("max")), g = parseFloat(d.attr("min")), h = parseFloat(d.attr("step")), i = 0; d.attr("step").indexOf(".") > 0 && (i = d.attr("step").split(".")[1].length), isNaN(f) && (f = 100), isNaN(g) && (g = 0), isNaN(h) && (h = 1, i = 0), isNaN(e) ? d.val(g) : ("minus" == c && (e > g && (e = (e - h).toFixed(i), d.val(e).change()), parseFloat(d.val()) <= g && (d.val(g).change(), a(this).attr("disabled", !0))), "plus" == c && (e < f && (e = (e + h).toFixed(i), d.val(e).change()), parseFloat(d.val()) >= f && (d.val(f).change(), a(this).attr("disabled", !0)))) }), a("input", ".quantity").focusin(function () { a(this).data("oldValue", a(this).val()) }), a("input", ".quantity").on("change", function () { var b = a(this), c = parseFloat(b.attr("max")), d = parseFloat(b.attr("min")), e = parseFloat(b.val()), f = parseFloat(b.attr("step")); isNaN(c) && (c = 100), isNaN(d) && (d = 0), isNaN(f) && (f = 1); var g = a(".add_to_cart_button", a(this).parent().parent().parent()); e >= d ? (a(".btn-number[data-type='minus']", a(this).parent()).removeAttr("disabled"), void 0 !== g && g.attr("data-quantity", e)) : (alert("Sorry, the minimum value was reached"), a(this).val(a(this).data("oldValue")), void 0 !== g && g.attr("data-quantity", a(this).data("oldValue"))), e <= c ? (a(".btn-number[data-type='plus']", a(this).parent()).removeAttr("disabled"), void 0 !== g && g.attr("data-quantity", e)) : (alert("Sorry, the maximum value was reached"), a(this).val(a(this).data("oldValue")), void 0 !== g && g.attr("data-quantity", a(this).data("oldValue"))) }) }, addToCart: function () { a(document).on("click", ".add_to_cart_button", function () { var b = a(this), c = b.parent(); if (!b.hasClass("single_add_to_cart_button") && b.is(".product_type_simple")) { b.addClass("added-spinner"), b.find("i").attr("class", "fa fa-spinner fa-spin"); var d = c.parent().parent().parent().parent(); if (void 0 === d) return; d.addClass("active") } }), c.bind("added_to_cart", function (a, b, c, d) { if (G5Plus.woocommerce.setCartScrollBar(), !d.hasClass("single_add_to_cart_button")) { var f = d, g = f.parent(), h = g.find(".added_to_cart"), i = h.text(), j = g.parent().parent().parent().parent(); f.remove(), h.html('<i class="fa fa-check"></i>'), setTimeout(function () { g.tooltip("hide").attr("title", i).tooltip("fixTitle") }, 500), setTimeout(function () { j.removeClass("active") }, 700) } }) }, updateShippingMethod: function () { c.bind("updated_shipping_method", function () { a("select.country_to_state, input.country_to_state").change() }) }, addToWishlist: function () { a(document).on("click", ".add_to_wishlist", function () { var b = a(this), c = b.parent().parent(); if (!c.parent().hasClass("single-product-function")) { b.addClass("added-spinner"); var d = c.parent().parent().parent().parent(); if (void 0 === d) return; d.addClass("active") } }), c.bind("added_to_wishlist", function (b, c, d, e) { var f = a(".added-spinner.add_to_wishlist"), g = f.parent().parent(); if (!g.parent().hasClass("single-product-function")) { var h = g.parent().parent().parent().parent(); if (void 0 === h) return; setTimeout(function () { h.removeClass("active"), f.removeClass("added-spinner") }, 700) } }) }, productFilter: function () { a("select", ".w-cat").change(function () { var b = a(this).val(); window.location.href = b }); var b = a("#product-filter-wrap"); 0 != b.length && (a(".product-filter").on("click", function () { c.hasClass("product-filter-in") || c.addClass("product-filter-in") }), a("#product-filter-overlay").click(function () { c.removeClass("product-filter-in") }), b.perfectScrollbar({ wheelSpeed: .5, suppressScrollX: !0 })) }, productViewSwitch: function () { a("a", ".filter-category-wrap .view-switcher").click(function () { if (!a(this).hasClass("active")) { a("a", ".filter-category-wrap .view-switcher").removeClass("active"), a(this).addClass("active"); var b = a(this).attr("data-rel"); a(".archive-product-wrap .product-listing").animate({ opacity: 0 }, 300, function () { a(".archive-product-wrap .product-listing").removeClass("view-list"), "list" == b && a(".archive-product-wrap .product-listing").addClass("view-list") }), a(".archive-product-wrap .product-listing").animate({ opacity: 1 }, 300), a("a", ".woocommerce-paging .pagination").each(function () { var c = a(this).attr("href"); c = c.replace("?view=view-list", ""), c = c.replace("?view=view-grid", ""), c = c + "?view=view-" + b, a(this).attr("href", c) }), a("option", ".filter-category-wrap select").each(function () { var c = a(this).val(); c = c.replace("?view=view-list", ""), c = c.replace("?view=view-grid", ""), c = c + "?view=view-" + b, a(this).val(c) }) } }) }, singleProductImage: function (c) { function i(a) { var b = a; f.find(".slick-slide").removeClass("synced").eq(b).addClass("synced"), j(b) } function j(a) { var b = a, c = !1, d = f.find(".slick-slide:last").index(); for (var e in g) if (b === g[e]) var c = !0; !1 === c ? b > g[g.length - 1] ? b == d ? f.slick("slickGoTo", b - g.length + 1) : f.slick("slickGoTo", b - g.length + 2) : b - 1 == -1 ? f.slick("slickGoTo", 0) : f.slick("slickGoTo", b - 1) : b === g[g.length - 1] ? f.slick("slickGoTo", g[1]) : b === g[0] && f.slick("slickGoTo", b - 1) } var d = c.hasClass("vertical"), e = c.find(".product-image-slider"), f = c.find(".product-image-thumb"), g = [], h = 0; e.slick({ infinite: !1, fade: !0, speed: 400, adaptiveHeight: !0, arrows: !1, dots: !1 }), c.animate({ opacity: 1 }, 500), e.on("beforeChange", function (a, b, c, d) { i(d) }), f.on("init", function (b, c) { a(this).find(".slick-slide").eq(0).addClass("synced"); var d = window.innerWidth; d >= 1020 && (h = 4), d < 1020 && (h = 3); for (var e = 0; e < h; e++)g.push(e) }), b.on("resize load", function (a) { var b = window.innerWidth; return b >= 1020 && (h = 4), b < 1020 && (h = 3), h }), f.on("afterChange", function (a, b, c) { g.length = 0; for (var d = c; d < c + h; d++)g.push(d) }), f.slick({ swipeToSlide: !0, infinite: !1, slidesToShow: 4, slidesToScroll: 1, speed: 400, arrows: !1, centerPadding: "0px", vertical: d, verticalSwiping: d, responsive: [{ breakpoint: 1230, settings: { slidesToShow: 4, vertical: !1, verticalSwiping: !1 } }, { breakpoint: 1020, settings: { slidesToShow: 3, vertical: !1, verticalSwiping: !1 } }] }), f.on("click", ".slick-slide", function (b) { b.preventDefault(); var c = a(this).data("slick-index"); e.slick("slickGoTo", c) }) }, lessonExpand: function () { a("a", ".lesson-title").click(function () { var b = a(this).attr("data-id"); a(this).hasClass("expand") ? (a("#" + b).slideUp(), a(this).removeClass("expand"), a(this).parent().removeClass("expanded")) : (a("#" + b).slideDown(), a(this).parent().addClass("expanded"), a(this).addClass("expand")) }) } }, G5Plus.search = { up: function (b) { var c = a("li.selected", b); if (!(a("li", b).length < 2)) { var d = c.prev(); c.removeClass("selected"), d.length ? d.addClass("selected") : (a("li:last", b).addClass("selected"), d = a("li:last", b)); var e = a(" > ul", b); d.position().top < e.scrollTop() ? e.scrollTop(d.position().top) : d.position().top + d.outerHeight() > e.scrollTop() + e.height() && e.scrollTop(d.position().top - e.height() + d.outerHeight()) } }, down: function (b) { var c = a("li.selected", b); if (!(a("li", b).length < 2)) { var d = c.next(); c.removeClass("selected"), d.length ? d.addClass("selected") : (a("li:first", b).addClass("selected"), d = a("li:first", b)); var e = a("> ul", b); d.position().top < e.scrollTop() ? e.scrollTop(d.position().top) : d.position().top + d.outerHeight() > e.scrollTop() + e.height() && e.scrollTop(d.position().top - e.height() + d.outerHeight()) } } }, G5Plus.header = { timeOutSearch: null, init: function () { G5Plus.header.stickyHeader(), G5Plus.header.menuOnePage(), G5Plus.header.menuMobile(), G5Plus.header.events(), G5Plus.header.search(), G5Plus.header.searchAjaxForm(), G5Plus.header.headerLeftPosition(), G5Plus.header.searchCategory(), G5Plus.header.headerOverlay(), G5Plus.header.canvasMenu() }, events: function () { a("a[data-hash]").on("click", function (a) { return a.preventDefault(), G5Plus.page.anchorsPosition(this), !1 }), a("#mobile-header-wrapper .header-mobile-nav").perfectScrollbar({ wheelSpeed: .5, suppressScrollX: !0 }) }, windowResized: function () { G5Plus.header.stickyHeader(), G5Plus.header.headerNavSpacing(1), G5Plus.common.isDesktop() && a(".toggle-icon-wrapper[data-drop]").removeClass("in"); var b = a("#wpadminbar"); b.length > 0 && c.attr("data-offset", b.outerHeight() + 1), b.length > 0 && c.attr("data-offset", b.outerHeight() + 1), G5Plus.header.headerMobileFlyPosition(), G5Plus.header.headerMobilePosition(), G5Plus.header.changeSubMenuMultiHeight() }, windowLoad: function () { G5Plus.header.headerNavSpacing(1), G5Plus.header.headerLeftScrollBar(), G5Plus.header.headerMobileFlyPosition(), G5Plus.header.headerMobilePosition(), G5Plus.header.fixStickyLogoSize(), G5Plus.header.changeSubMenuMultiHeight() }, fixStickyLogoSize: function () { if (G5Plus.common.isIE()) { var b = a("header .logo-sticky img"); if (0 == b.length) return; var c = b.attr("src"); if (c.length - c.lastIndexOf(".svg") != 4) return; a.get(c, function (a) { var c = a.documentElement.attributes, d = c.width.value, e = c.height.value; "string" == typeof d && (d = d.replace("px", ""), d = parseInt(d, 10)), "string" == typeof e && (e = e.replace("px", ""), e = parseInt(e, 10)), e > 0 && b.css("width", 30 * d / e + "px") }, "xml") } }, headerMobileFlyPosition: function () { var b = 0; a("#wpadminbar").length > 0 && "fixed" == a("#wpadminbar").css("position") && (b = a("#wpadminbar").outerHeight()), b > 0 ? a(".header-mobile-nav.menu-drop-fly").css("top", b + "px") : a(".header-mobile-nav.menu-drop-fly").css("top", "") }, headerMobilePosition: function () { var b = 0; a("#wpadminbar").length > 0 && "fixed" == a("#wpadminbar").css("position") && (b = a("#wpadminbar").outerHeight()), b > 0 ? a(".header-mobile-nav.menu-drop-fly").css("top", b + "px") : a(".header-mobile-nav.menu-drop-fly").css("top", "") }, headerLeftPosition: function () { var b = 0; a("#wpadminbar").length > 0 && (b = a("#wpadminbar").outerHeight()), b > 0 && a("header.header-left").css("top", b + "px") }, stickyHeader: function () { var b = 0, c = a("#wpadminbar"); c.length > 0 && "fixed" == c.css("position") && (b = c.outerHeight()), a(".header-sticky, .header-mobile-sticky").unstick(); var d = b; G5Plus.common.isDesktop() ? (d = 132 - a(window).height(), a(".header-sticky").sticky({ topSpacing: d, topSticky: b, change: function () { G5Plus.header.headerNavSpacing(1), a("header.main-header .x-nav-menu > li").each(function () { APP_XMENU.process_menu_position(this) }) } })) : a(".header-mobile-sticky").sticky({ topSpacing: d, topSticky: b }) }, menuOnePage: function () { a(".menu-one-page").onePageNav({ currentClass: "menu-current", changeHash: !1, scrollSpeed: 750, scrollThreshold: 0, filter: "", easing: "swing" }) }, anchorsPosition: function (b, c) { var d = a(b).attr("href"); if (a(d).length > 0) { var e = a(d).offset().top, f = a("#wpadminbar"); f.length > 0 && (e -= f.outerHeight()), a("html,body").animate({ scrollTop: e }, c, "swing", function () { }) } }, menuMobile: function () { a(".toggle-mobile-menu[data-ref]").click(function (b) { b.preventDefault(); var c = a(this), d = c.data("ref"); switch (c.toggleClass("in"), c.data("drop-type")) { case "dropdown": a("#" + d).slideToggle(); break; case "fly": a("body").toggleClass("menu-mobile-in"), a("#" + d).toggleClass("in") } }), a(".toggle-icon-wrapper[data-ref]:not(.toggle-mobile-menu)").click(function (b) { b.preventDefault(); var c = a(this), d = c.data("ref"); c.toggleClass("in"), a("#" + d).toggleClass("in") }), a(".main-menu-overlay").click(function () { c.removeClass("menu-mobile-in"), a("#nav-menu-mobile").removeClass("in"), a(".toggle-icon-wrapper[data-ref]").removeClass("in") }) }, search: function () { function d() { var b = a("li.selected", "#g5plus-modal-search"); if (!(a("li", "#g5plus-modal-search").length < 2)) { var c = b.prev(); b.removeClass("selected"), c.length ? c.addClass("selected") : (a("li:last", "#g5plus-modal-search").addClass("selected"), c = a("li:last", "#g5plus-modal-search")), c.position().top < a("#g5plus-modal-search .ajax-search-result").scrollTop() ? a("#g5plus-modal-search .ajax-search-result").scrollTop(c.position().top) : c.position().top + c.outerHeight() > a("#g5plus-modal-search .ajax-search-result").scrollTop() + a("#g5plus-modal-search .ajax-search-result").height() && a("#g5plus-modal-search .ajax-search-result").scrollTop(c.position().top - a("#g5plus-modal-search .ajax-search-result").height() + c.outerHeight()) } } function e() { var b = a("li.selected", "#g5plus-modal-search"); if (!(a("li", "#g5plus-modal-search").length < 2)) { var c = b.next(); b.removeClass("selected"), c.length ? c.addClass("selected") : (a("li:first", "#g5plus-modal-search").addClass("selected"), c = a("li:first", "#g5plus-modal-search")), c.position().top < a("#g5plus-modal-search .ajax-search-result").scrollTop() ? a("#g5plus-modal-search .ajax-search-result").scrollTop(c.position().top) : c.position().top + c.outerHeight() > a("#g5plus-modal-search .ajax-search-result").scrollTop() + a("#g5plus-modal-search .ajax-search-result").height() && a("#g5plus-modal-search .ajax-search-result").scrollTop(c.position().top - a("#g5plus-modal-search .ajax-search-result").height() + c.outerHeight()) } } function f() { var b = a("li.selected a", "#g5plus-modal-search"); b.length > 0 && (window.location = b.attr("href")) } function g() { var b = a('input[type="search"]', "#g5plus-modal-search").val(); if (b.length < 3) return void a(".ajax-search-result", "#g5plus-modal-search").html(""); a(".ajax-search-icon", "#g5plus-modal-search").addClass("fa-spinner fa-spin"), a(".ajax-search-icon", "#g5plus-modal-search").removeClass("fa-search"), a.ajax({ type: "POST", data: "action=result_search&keyword=" + b, url: g5plus_framework_ajax_url, success: function (b) { a(".ajax-search-icon", "#g5plus-modal-search").removeClass("fa-spinner fa-spin"), a(".ajax-search-icon", "#g5plus-modal-search").addClass("fa-search"); var c = "", d = ""; if (b) { var e = a.parseJSON(b); e.length ? (c += "<ul>", -1 == e[0].id ? c += "<li>" + e[0].title + "</li>" : a.each(e, function (a) { -2 == this.id ? d = '<div class="search-view-more">' + this.title + "</div>" : (c += 0 == a ? '<li class="selected">' : "<li>", null == this.title || "" == this.title ? c += '<a href="' + this.guid + '">' + this.date + "</a>" : (c += '<a href="' + this.guid + '">' + this.title + "</a>", c += "<span>" + this.date + " </span>"), c += "</li>") }), c += "</ul>") : c = "" } a(".ajax-search-result", "#g5plus-modal-search").html(c + d), a("#g5plus-modal-search .ajax-search-result").scrollTop(0) }, error: function (b) { a(".ajax-search-icon", "#g5plus-modal-search").removeClass("fa-spinner fa-spin"), a(".ajax-search-icon", "#g5plus-modal-search").addClass("fa-search") } }) } var b = a("#search_popup_wrapper"); if (b.length > 0 && "standard" == a("header .icon-search-menu").data("search-type")) { var c = new DialogFx(b[0]); a("header .icon-search-menu").click(c.toggle.bind(c)) } a("header .icon-search-menu").click(function (b) { b.preventDefault(), "ajax" == a(this).data("search-type") ? G5Plus.header.searchPopupOpen() : a('#search_popup_wrapper input[type="text"]').focus() }), a(".g5plus-dismiss-modal, .modal-backdrop", "#g5plus-modal-search").click(function () { G5Plus.header.searchPopupClose() }), a(".g5plus-search-wrapper button > i.ajax-search-icon").click(function () { g() }), a("#search-ajax", "#g5plus-modal-search").on("keyup", function (b) { if (!(b.altKey || b.ctrlKey || b.shiftKey || b.metaKey)) { if (-1 == ["Control", "Alt", "Shift"].indexOf(b.key)) switch (b.which) { case 27: G5Plus.header.searchPopupClose(); break; case 38: d(); break; case 40: e(); break; case 13: if (0 == a("li.selected a", "#g5plus-modal-search").length) return b.preventDefault(), !1; f(); break; default: clearTimeout(G5Plus.header.timeOutSearch), G5Plus.header.timeOutSearch = setTimeout(g, 500) } } }) }, searchPopupOpen: function () { a("#g5plus-modal-search").hasClass("in") || (a("body").addClass("overflow-hidden"), a("#g5plus-modal-search").show(), setTimeout(function () { a("#g5plus-modal-search").addClass("in") }, 300), a("#search-ajax", "#g5plus-modal-search").length > 0 ? (a("#search-ajax", "#g5plus-modal-search").focus(), a("#search-ajax", "#g5plus-modal-search").val("")) : (a("#search-standard", "#g5plus-modal-search").focus(), a("#search-standard", "#g5plus-modal-search").val("")), a(".ajax-search-result", "#g5plus-modal-search").html("")) }, searchPopupClose: function () { a("#g5plus-modal-search").hasClass("in") && (a("#g5plus-modal-search").removeClass("in"), setTimeout(function () { a("#g5plus-modal-search").hide(), a("body").removeClass("overflow-hidden") }, 300)) }, searchAjaxForm: function () { var c = a("header.main-header .search-box-wrapper"), d = a("header.main-header .search-box-wrapper form.search-type-ajax"); a(b).click(function (b) { 0 == a(b.target).closest("header.main-header .search-box-wrapper").length && (a(".ajax-search-result", c).remove(), a('> input[type="text"]', d).val("")) }), d.submit(function () { return !1 }), a('> input[type="text"]', d).on("keyup", function (b) { function f() { a(".ajax-search-result", c).remove(), a('> input[type="text"]', d).val("") } function g() { var b = a("li.selected a", c); b.length > 0 && (window.location = b.attr("href")) } function h() { var b = a('input[type="text"]', d).val(); if (b.length < 3) { 0 == a(".ajax-search-result", d).length && a(d).append('<div class="ajax-search-result"></div>'); var e = c.attr("data-hint-message"); return void a(".ajax-search-result", c).html('<ul><li class="no-result">' + e + "</li></ul>") } a("button > i", d).addClass("fa-spinner fa-spin"), a("button > i", d).removeClass("fa-search"), a.ajax({ type: "POST", data: "action=result_search&keyword=" + b, url: g5plus_framework_ajax_url, success: function (b) { a("button > i", c).removeClass("fa-spinner fa-spin"), a("button > i", c).addClass("fa-search"); var e = "", f = ""; if (b) { var g = a.parseJSON(b); g.length ? (e += "<ul>", -1 == g[0].id ? e += '<li class="no-result">' + g[0].title + "</li>" : a.each(g, function (a) { -2 == this.id ? f = '<div class="search-view-more">' + this.title + "</div>" : (e += 0 == a ? '<li class="selected">' : "<li>", null == this.title || "" == this.title ? e += '<a href="' + this.guid + '">' + this.date + "</a>" : e += '<a href="' + this.guid + '">' + this.title + "</a>", e += "</li>") }), e += "</ul>") : e = "" } 0 == a(".ajax-search-result", d).length && a(d).append('<div class="ajax-search-result"></div>'), a(".ajax-search-result", c).html(e + f), a(".ajax-search-result ul", c).scrollTop(0) }, error: function (b) { a("button > i", c).removeClass("fa-spinner fa-spin"), a("button > i", c).addClass("fa-search") } }) } if (!(b.altKey || b.ctrlKey || b.shiftKey || b.metaKey)) { if (-1 == ["Control", "Alt", "Shift"].indexOf(b.key)) switch (b.which) { case 27: f(); break; case 38: G5Plus.search.up(c); break; case 40: G5Plus.search.down(c); break; case 13: g(); break; default: clearTimeout(G5Plus.header.timeOutSearch), G5Plus.header.timeOutSearch = setTimeout(h, 500) } } }) }, headerNavSpacing: function (b) { if (void 0 === b && (b = 0), !G5Plus.common.isDesktop()) return void G5Plus.header.changeStickyWrapperSize(3); var c = { "header-1": { container: "header.main-header .header-container", items: "> .header-logo, > .header-nav-right" }, "header-2": { container: "header.main-header .header-nav-left, header.main-header .header-nav-right", items: "> .header-customize" }, "header-3": { container: "header.main-header .header-nav-left, header.main-header .header-nav-right", items: "> .header-customize" }, "header-4": { container: "header.main-header .header-container", items: "> .header-nav-left, > .header-nav-right" }, "header-5": { container: "header.main-header .header-container", items: "> .header-nav-left, > .header-nav-right" }, "header-6": { container: "header.main-header .header-container", items: "> .header-nav-left, > .header-nav-right" } }, d = a("body").attr("data-header"); void 0 !== d && null != d && void 0 !== c[d] && a(c[d].container).each(function () { var b = a(this); a("ul.main-menu > li", b).css("margin-left", ""); var e = 40, f = b.width(), g = 0; a(".x-nav-menu > li", b).each(function () { a(this).is(":visible") && g++ }); var h = 0; if (a(c[d].items, b).each(function () { var b = a(this); b.is(":visible") && (h += b.outerWidth()) }), f < h && --g > 0) { var i = e - 1 * (h - f + 40) / g; i < 10 && (i = 10), i < e && a("ul.main-menu > li", b).not(":first").css("margin-left", i + "px") } }), G5Plus.header.changeStickyWrapperSize(3), b > 0 && setTimeout(function () { G5Plus.header.headerNavSpacing(b - 1) }, 100) }, changeStickyWrapperSize: function (b) { var c = a("header.main-header .sticky-wrapper"); c.length > 0 && c.height(a(" > .header-sticky", c).outerHeight()), b > 0 && setTimeout(function () { G5Plus.header.changeStickyWrapperSize(b - 1) }, 100) }, headerLeftScrollBar: function () { a("header.header-left").perfectScrollbar({ wheelSpeed: .5, suppressScrollX: !0 }) }, searchCategory: function () { function b(b) { var c = a('input[type="text"]', b).val(); if (c.length < 3) { 0 == a(".ajax-search-result", b).length && a(b).append('<div class="ajax-search-result"></div>'); var d = b.attr("data-hint-message"); return void a(".ajax-search-result", b).html('<ul><li class="no-result">' + d + "</li></ul>") } a("button > i", b).addClass("fa-spinner fa-spin"), a("button > i", b).removeClass("fa-search"), a.ajax({ type: "POST", data: "action=result_search_product&keyword=" + c + "&cate_id=" + a(".form-search-left > span", b).attr("data-id"), url: g5plus_framework_ajax_url, success: function (c) { a("button > i", b).removeClass("fa-spinner fa-spin"), a("button > i", b).addClass("fa-search"); var d = "", e = ""; if (c) { var f = a.parseJSON(c); f.length ? (d += "<ul>", -1 == f[0].id ? d += '<li class="no-result">' + f[0].title + "</li>" : a.each(f, function (a) { -2 == this.id ? e = '<div class="search-view-more">' + this.title + "</div>" : (d += 0 == a ? '<li class="selected">' : "<li>", d += '<a href="' + this.guid + '">', d += this.thumb, d += this.title + "</a>", d += '<div class="price">' + this.price + "</div>", d += "</li>") }), d += "</ul>") : d = "" } 0 == a(".ajax-search-result", b).length && a(b).append('<div class="ajax-search-result"></div>'), a(".ajax-search-result", b).html(d + e), a(".ajax-search-result li", b).hover(function () { a(".ajax-search-result li", b).removeClass("selected"), a(this).addClass("selected") }), a(".ajax-search-result ul", b).scrollTop(0) }, error: function (c) { a("button > i", b).removeClass("fa-spinner fa-spin"), a("button > i", b).addClass("fa-search") } }) } a(".search-with-category").each(function () { var c = a(".form-search-left", this), d = a(this); a(document).on("click", function (b) { 0 === a(b.target).closest(".form-search-left", d).length && a(" > ul", c).slideUp(), 0 === a(b.target).closest(".form-search-right,.ajax-search-result", d).length && (a(".ajax-search-result", d).remove(), a("input", d).val("")) }); var e = '<li><span data-id="-1" data-value="' + a("> span", c).text() + '">[' + a("> span", c).text() + "]</span></li>"; a("> ul", c).prepend(e), a("> span", c).on("click", function () { a("> ul", a(this).parent()).slideToggle() }), a("li > span", c).on("click", function () { var b = a(this), d = b.attr("data-id"), e = ""; e = void 0 !== b.attr("data-value") ? b.attr("data-value") : b.text(); var f = a("> span", c); f.text(e), f.attr("data-id", d), a(" > ul", c).slideUp() }), a("input", d).on("keyup", function (c) { var e = null; if (!(c.altKey || c.ctrlKey || c.shiftKey || c.metaKey) && -1 == ["Control", "Alt", "Shift"].indexOf(c.key)) switch (c.which) { case 37: case 39: break; case 27: a(".ajax-search-result", d).remove(), a(this).val(""); break; case 38: G5Plus.search.up(a(".ajax-search-result", d)); break; case 40: G5Plus.search.down(a(".ajax-search-result", d)); break; case 13: var g = a(".ajax-search-result li.selected a", d); return 0 == g.length ? (c.preventDefault(), !1) : (window.location = g.attr("href"), c.preventDefault(), !1); default: clearTimeout(e), e = setTimeout(function () { b(d) }, 500) } }) }) }, headerOverlay: function () { a(".overlay-menu-wrapper .overlay-menu-inner").perfectScrollbar({ wheelSpeed: .5, suppressScrollX: !0 }), a("header.main-header .header-overlay-open").on("click", function () { a("header.main-header .header-overlay-open").toggleClass("in"), a(".overlay-menu-wrapper").toggleClass("in") }), a("header.main-header .header-overlay-close").on("click", function () { a("header.main-header .header-overlay-open").toggleClass("in"), a(".overlay-menu-wrapper").toggleClass("in") }) }, canvasMenu: function () { a("nav.canvas-menu-wrapper").perfectScrollbar({ wheelSpeed: .5, suppressScrollX: !0 }), a(document).on("click", function (b) { 0 == a(b.target).closest("nav.canvas-menu-wrapper").length && 0 == a(b.target).closest(".canvas-menu-toggle").length && a("nav.canvas-menu-wrapper").removeClass("in") }), a(".canvas-menu-toggle").on("click", function (b) { b.preventDefault(), a("nav.canvas-menu-wrapper").toggleClass("in") }), a(".canvas-menu-close").on("click", function (b) { b.preventDefault(), a("nav.canvas-menu-wrapper").removeClass("in") }) }, changeSubMenuMultiHeight: function () { G5Plus.common.isDesktop() ? (a(".x-sub-menu-multi-column > li").css("height", ""), a(".x-sub-menu-multi-column").each(function () { })) : a(".x-sub-menu-multi-column > li").css("height", "") } }, G5Plus.footer = { init: function () { G5Plus.footer.showMap(), G5Plus.footer.scrollUp() }, showMap: function () { var b = a(".handmade-map", ".map-scroll-up"), c = a(".handmade-google-map", ".map-scroll-up"); a(b).hide(), a(".a-map", ".map-scroll-up").click(function () { a(b).is(":visible") ? a(b).slideUp() : a(b).slideDown(function () { if (c.length > 0) { var b = c[0], d = a(b).attr("data-map-init"); if (void 0 === d || null == d || "" == d) { var e = a(b).attr("data-location-x"), f = a(b).attr("data-location-y"), g = a(b).attr("data-marker-title"), h = a(b).attr("data-map-zoom"); "" != h && void 0 !== h || (h = 11), "markerTitle" == typeof g && (g = "Our location"), h = parseInt(h, 10); var i = new google.maps.Map(b, { zoom: h, scrollwheel: !1, center: new google.maps.LatLng(e, f) }); new google.maps.Marker({ position: new google.maps.LatLng(e, f), map: i, title: g }); a(b).attr("data-map-init", 1) } } }) }) }, scrollUp: function () { var b = a(".a-scroll-up", ".map-scroll-up"); b.length > 0 && b.click(function (b) { b.preventDefault(), a("html,body").animate({ scrollTop: "0px" }, 800) }) } }, G5Plus.onReady = { init: function () { G5Plus.common.init(), G5Plus.header.init(), G5Plus.page.init(), G5Plus.blog.init(), G5Plus.portfolio.init(), G5Plus.woocommerce.init(), G5Plus.footer.init() } }, G5Plus.onLoad = { init: function () { G5Plus.header.windowLoad(), G5Plus.page.windowLoad(), G5Plus.woocommerce.windowLoad() } }, G5Plus.onResize = { init: function () { G5Plus.page.windowResized(), G5Plus.woocommerce.windowResized(), G5Plus.header.windowResized(), G5Plus.blog.windowResized() } }, G5Plus.onScroll = { init: function () { } }, a(window).resize(G5Plus.onResize.init), a(window).scroll(G5Plus.onScroll.init), a(document).ready(G5Plus.onReady.init), a(window).load(G5Plus.onLoad.init) }(jQuery);